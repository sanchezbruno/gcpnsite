<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Cadastro de Cliente</title>

    <!-- Font Icon -->
    <link rel="stylesheet" href="fonts/material-icon/css/material-design-iconic-font.min.css">
    <link rel="stylesheet" href="vendor/jquery-ui/jquery-ui.min.css">

    <!-- Main css -->
    <link rel="stylesheet" href="css/style.css">

   

</head>
<body>

    <div class="main">
        
        <div class="header">
            
            Cadastro de Cliente<img src="images/dots.png" alt="">
        </div>
        <div class="container">

            

            <form id="booking-form" class="booking-form" method="POST" action="http://webapi2019gcpn.azurewebsites.net/api/reserva/CadastrarReserva/">
                <div class="form-group">
                    <div class="form-destination">
                        <label for="destination">Nome</label>
                        <input type="text" id="nome" name="nome" placeholder="Seu Nome" />
                    </div>
                    <div class="form-destination">
                        <label for="destination">CPF</label>
                        <input type="text" id="cpf" name="cpf" placeholder="Seu CPF" />
                    </div>
                    <div class="form-destination">
                       
                    </div>
                   
                </div>   


                <div class="form-group">
                    <div class="form-destination">
                        <label for="destination">CEP</label>
                        <input type="text" id="txtCep" name="txtCep" placeholder="Seu CEP" />
                    </div>
                    <div class="form-destination">
                        <label for="destination">Endereço</label>
                        <input type="text" id="txtEndereco" name="txtEndereco" placeholder="Seu Endereço" />
                    </div>
                    <div class="form-destination">
                        <label for="destination">Número</label>
                        <input type="text" id="txtNumero" name="txtNumero" placeholder="Seu Número" />
                    </div>

                </div> 

                <div class="form-group">
                    <div class="form-destination">
                        <label for="destination">Bairro</label>
                        <input type="text" id="txtBairro" name="txtBairro" placeholder="Seu Bairro" />
                    </div>
                    <div class="form-destination">
                        <label for="destination">Cidade</label>
                        <input type="text" id="txtCidade" name="txtCidade" placeholder="Sua Cidade" />
                    </div>
                    <div class="form-destination">
                        <label for="destination">Estado</label>
                        <input type="text" id="txtEstado" name="txtEstado" placeholder="Seu Estado" />
                    </div>

                </div> 


               
          

                
                <div class="form-group">
                    <div class="form-destination">
                       
                    </div>
                    <div class="form-submit">
                        <input type="button" id="submit" class="submit" value="Reservar" onclick="submitform()" />
                    </div>
                    <div class="form-destination">
                        <label id="resultado"></label>
                    </div>
                </div>
            </form>
        </div>

    </div>

    <!-- JS -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/jquery-ui/jquery-ui.min.js"></script>
    <script src="js/main.js"></script>


<script type="text/javascript">





    function submitform(){
        //alert('Testej');
        let form = document.forms[0];
        //xhr.open(form.method, form.action, true);

        //Local
        //http://localhost:55460/api/cliente/CadastrarCliente/

        //Real
        //http://webapi2019gcpn.azurewebsites.net/api/cliente/CadastrarCliente/

        

        //alert("Dados Enviados!");
        //alert(JSON.stringify(j))

        /*
        prompt("Copy to clipboard: Ctrl+C, Enter", JSON.stringify({
            nome:form.elements["nome"].value,
            cpf:form.elements["cpf"].value,

            cep: form.elements["txtCep"].checked,
            endereco: form.elements["txtEndereco"].value,
            numero: form.elements["txtNumero"].value,
            bairro: form.elements["txtBairro"].value,
            cidade: form.elements["txtCidade"].value,
            estado: form.elements["txtEstado"].value

        }));
        */


        /*
        $.post("http://webapi2019gcpn.azurewebsites.net/api/cliente/CadastrarCliente/",
        {
            nome:form.elements["nome"].value,
            cpf:form.elements["cpf"].value,

            cep: form.elements["txtCep"].value,
            endereco: form.elements["txtEndereco"].value,
            numero: form.elements["txtNumero"].value,
            bairro: form.elements["txtBairro"].value,
            cidade: form.elements["txtCidade"].value,
            estado: form.elements["txtEstado"].value

        }

            ,
            function (data) {
                alert(data);
            }

           /* function (msg) {
             alert(msg);
            }
        
        );

        */


        $.ajax({
            url: "http://webapi2019gcpn.azurewebsites.net/api/cliente/CadastrarCliente/",
            type : 'post',
            data : {
                        nome:form.elements["nome"].value,
                        cpf:form.elements["cpf"].value,

                        cep: form.elements["txtCep"].value,
                        endereco: form.elements["txtEndereco"].value,
                        numero: form.elements["txtNumero"].value,
                        bairro: form.elements["txtBairro"].value,
                        cidade: form.elements["txtCidade"].value,
                        estado: form.elements["txtEstado"].value

                    },
            beforeSend : function(){
                $("#resultado").html(form.elements["nome"].value + " ENVIADO COM SUCESSO...");
            }
        })
        
       ; 


        
        
        //$.post("http://webapi2019gcpn.azurewebsites.net/api/cliente/CadastrarCliente/", JSON.stringify(j), function(msg){
          //   alert(msg);
        //})
        
        //var xhr = new XMLHttpRequest();
        
        
        //xhr.send(JSON.stringify(j));

        
    }
</script>

</body><!-- This templates was made by Colorlib (https://colorlib.com) -->

</html>